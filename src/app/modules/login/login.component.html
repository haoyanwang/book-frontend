<nz-modal [(nzVisible)]="isVisible" [nzTitle]="null" [nzFooter]="null" [nzClosable]="false">
	<form nz-form [formGroup]="validateForm" class="login-form" (ngSubmit)="submitForm()">
		<nz-form-item>
			<nz-form-control nzHasFeedback>
				<nz-input-group nzPrefixIcon="anticon anticon-user">
					<input type="text" nz-input formControlName="username" placeholder="用户名">
				</nz-input-group>
				<nz-form-explain *ngIf="validateForm.get('username').dirty && validateForm.get('username').hasError('required')">
					请输入用户名
				</nz-form-explain>
				<nz-form-explain *ngIf="validateForm.get('username').hasError('bad')">
					{{validateForm.get('username').getError('bad')}}
				</nz-form-explain>
			</nz-form-control>
		</nz-form-item>
		<nz-form-item>
			<nz-form-control nzHasFeedback>
				<nz-input-group nzPrefixIcon="anticon anticon-lock">
					<input type="password" nz-input formControlName="password" placeholder="密码">
				</nz-input-group>
				<nz-form-explain *ngIf="validateForm.get('password').dirty && validateForm.get('password').hasError('required')">
					请输入密码
				</nz-form-explain>
				<nz-form-explain *ngIf="validateForm.get('password').hasError('bad')">
					{{validateForm.get('password').getError('bad')}}
				</nz-form-explain>
			</nz-form-control>
		</nz-form-item>
		<nz-form-item>
			<nz-form-label [nzSpan]="8">
				<nz-tooltip nzTitle="点击刷新验证码">
					<img *ngIf="base64Topng" nz-tooltip [src]="base64Topng" style="width: 112px;" (click)="reloadVerifyCode()" />
				</nz-tooltip>
				<nz-tooltip nzTitle="点击刷新验证码">
					<i nz-tooltip class="anticon anticon-reload" (click)="reloadVerifyCode()" style="padding: 0 10px"></i>
				</nz-tooltip>
			</nz-form-label>
			<nz-form-control [nzSpan]="16" nzHasFeedback>
				<input nz-input placeholder="验证码" formControlName="verifycode" />
				<nz-form-explain *ngIf="validateForm.get('verifycode').dirty && validateForm.get('verifycode').errors || validateForm.get('verifycode').pending ">
					<ng-container *ngIf="validateForm.get('verifycode').dirty && validateForm.get('verifycode').hasError('required')">
						请输入验证码
					</ng-container>
					<ng-container *ngIf="validateForm.get('verifycode').hasError('duplicated')">
						验证码错误
					</ng-container>
					<ng-container *ngIf="validateForm.get('verifycode').pending">
						验证中
					</ng-container>
				</nz-form-explain>
			</nz-form-control>
		</nz-form-item>
		<nz-form-item>
			<button nz-button class="login-form-button" [nzType]="'primary'">Log in </button>
		</nz-form-item>
	</form>

</nz-modal>
